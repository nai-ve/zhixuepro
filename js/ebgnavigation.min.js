!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("ebgnavigation",[],t):"object"==typeof exports?exports.ebgnavigation=t():e.ebgnavigation=t()}("undefined"!=typeof self?self:this,function(){return function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=15)}([function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.loadScript=function(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return void t(!0);var n=document.createElement("script"),a=t||function(){};n.type="text/javascript",n.readyState?n.onreadystatechange=function(){"loaded"!==n.readyState&&"complete"!==n.readyState||(n.onreadystatechange=null,a())}:n.onload=function(){a()};n.src=e,document.getElementsByTagName("head")[0].appendChild(n)},t.isString=t.isObject=t.delProtocol=t.getURLParameters=t.clearDefaultEmitEvent=t.loadNavigationError=t.getUrlOrigin=t.displayElement=t.commonNavEvent=t.traverseDomArr=t.traverseNavListEvent=t.getCurrentRole=t.getWorkbenchUrl=t.typeofChecking=t.loadImg=t.getBrowseUrlIdActiveMenu=t.renderApplicationNavbar=t.renderNavbarDom=t.removeElement=t.arrUnique=t.clearInnerHtmlById=t.deleteDomByClassName=t.setCookie=t.getCookie=t.getHostUrl=t.handleClass=t.$=t.templateRender=t.templateFilter=t.loadStyle=void 0;var r=a(n(10)),i=n(11);t.templateFilter=function(e){var t=e;return t=(t=(t=t.replace(/\r|\n/g,"")).replace(/\s+/g," ")).replace(/\>\s+\</g,"><")},String.prototype.replaceAll=function(e,t){return this.replace(new RegExp(e,"gm"),t)};t.templateRender=function(e,t,n){for(var a=/<%([^%>]+)?%>/g,r=/(^( )?(if|for|else|switch|case|break|{|}))(.*)?/g,i="var r=[];\n",o=0,s=function e(t,n){return i+=n?t.match(r)?t+"\n":"r.push("+t+");\n":""!==t?'r.push("'+t.replace(/"/g,'\\"')+'");\n':"",e},l=null;l=a.exec(e);)s(e.slice(o,l.index))(l[1],!0),o=l.index+l[0].length;s(e.substr(o,e.length-o)),i+='return r.join("");',n>0&&(t.type=n);var c=t;return t&&t.type>0&&(c=function(e){var t=e.type,n=e.currentName,a=JSON.parse(JSON.stringify(e));delete a.type,delete a.currentName;var r=a,i=!1;return a.appList&&(r=a.appList,i=!0),r.forEach(function(e){var t=e.params;t&&t.length>0&&(e.params=t.replaceAll('"',"'")),e.children&&e.children.length>0&&e.children.forEach(function(e){var t=e.params;t&&t.length>0&&(e.params=t.replaceAll('"',"'"))})}),i?{appList:r,type:t,currentName:n}:(t&&(r.type=t),n&&(r.currentName=n),r)}(t)),new Function(i.replace(/[\r\t\n]/g,"")).apply(c)};var o=function(e,t){e.attachEvent?e.attachEvent("onload",t):setTimeout(function(){!function e(t,n){if(!n.isCalled){var a=!1;if(/webkit/i.test(navigator.userAgent))t.sheet&&(a=!0);else if(t.sheet)try{t.sheet&&(a=!0)}catch(e){1e3===e.code&&(a=!0)}a?setTimeout(function(){n()},1):setTimeout(function(){e(t,n)},1)}}(e,t)},0)};t.loadStyle=function(e,t){var n=document.createElement("link"),a=document.getElementsByTagName("head")[0];n.type="text/css",n.rel="stylesheet",n.href=e,a.appendChild(n),o(n,function(){"function"==typeof t&&t(!0)})};t.$=function(e){switch(e.substr(0,1)){case"#":return document.getElementById(e.substr(1));case".":return document.getElementsByClassName(e.substr(1));default:return document.getElementsByTagName(e)}};var s=function(e,t,n,a){if(!e)return!1;var r=e&&e.getAttribute("class");void 0!==r&&null!==r||(e.setAttribute("class",""),r=""),r="delete"===t?r.replace(n,""):"add"===t?r.concat(" "+n):r.replace(a,n),e.setAttribute("class",r)};t.handleClass=s;t.getHostUrl=function(){var e=window.location.protocol+"//"+window.location.host;return window.location.port&&(e=e+":"+window.location.port),e};t.displayElement=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";if(!e)return!1;1===e.nodeType?e.style.display=t:document.querySelector(e).style.display=t};t.getCookie=function(e){for(var t=document.cookie.split("; "),n=0;n<t.length;n++){var a=t[n].split("=");if(a[0]===e)return a[1]}return""};t.setCookie=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.location.host,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:window.location.pathname,i="";if(e&&t){if(i+="".concat(e,"=").concat(t),n){var o=n.split(".").slice(-2),s=(0,r.default)(o,2),l=s[0],c=s[1];i+="; domain=".concat(l,".").concat(c)}if(a){var d="";d=a.length<=1?"/":"/".concat(a.split("/")[1]),i+="; path=".concat(d)}document.cookie=i}};t.deleteDomByClassName=function(e){for(var t=document.getElementsByClassName(e),n=0;n<t.length;n++)null!=t[n]&&t[n].parentNode.removeChild(t[n])};t.clearInnerHtmlById=function(e){var t=document.getElementById(e);t&&(t.innerHTML="")};t.removeElement=function(e){if(!e)return!1;var t=e.parentNode;t&&t.removeChild(e)};t.arrUnique=function(e){var t={},n=[];return e.map(function(e){t[e.title]||(n.push(e),t[e.title]=e.title)}),n};t.renderNavbarDom=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="",a=0;return t.position&&(a=Math.floor(e.length/2)),e.forEach(function(r,i){n+=l(r,i,t,a,e.length)}),n};var l=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3],i=t.name||t.title,o="";t.origin=a.origin||"",t.renderName=a.renderName||"",t.element=a.element,t.index=n,t.current&&(o+="current "),a.isHasChildren=t.children&&t.children.length,a.isHasChildren&&(o+="has-ul "),a.element,r&&r<t.index||a.more?(o+="right",e=!0):o+="left","workbench"===t.menuKey&&(o+=" ".concat(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t="";return Array.isArray(e)&&e.length>=2&&(t="has-data"),t}(a.identityList)));var s=c(a);return'<dd class="ebg-nav-item '.concat(o,'" hasChildrenModules="').concat(t.hasChildrenModules,'" index="').concat(n,'" fromIndex="').concat(r,'" id="ebg-nav-').concat(t.menuKey||n,'">\n          <a class="text-ellipsis" href="javascript:;" title="').concat(i,'" index="').concat(r,'">\n            ').concat(i,"\n            ").concat(s,'\n          </a>\n          <span class="custom_navbar__content_data" style="display:none">').concat(JSON.stringify(t),"</span>\n          ").concat(d(t,n,a,e),"\n          </dd>\n        ")},c=function(e){return e.isHasChildren?e.more?'<i class="ebginav inav-user-left"></i>':"ebgnav-app-list"===e.element?'<i class="ebginav inav-user-right"></i>':"ebgnav-operation-setting"===e.element?'<i class="ebginav inav-user-left"></i>':'<i class="ebginav inav-down"></i>':""},d=function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3];if(!Array.isArray(t.children))return"";var i="",o=t.children;return o&&o.forEach(function(t,o){t.origin=a.origin||"",t.renderName=a.renderName||"",t.parentIndex=n,t.element=a.element,t.more=a.more,t.index=o;var s=t.children&&t.children.length,l=r?'<i class="ebginav inav-user-left"></i>':'<i class="ebginav inav-user-right"></i>';t&&(i+='<dd\n                class="ebg-nav-item '.concat(t.current?"current":""," ").concat(s?" has-ul":"",'"\n                index="').concat(o,'"\n              >\n                <a class="text-ellipsis" title="').concat(t.title,'" href="javascript:;">\n                  ').concat(t.title,"\n                  ").concat(s?l:"",'\n                </a>\n                <span class="custom_navbar__content_data" style="display:none">').concat(JSON.stringify(t),"</span>\n                ").concat(e(t,t.index,a,r),"\n              </dd>"))}),i?'<dl class="children has-children" index="'.concat(n,'">').concat(i,"</dl>"):""};t.renderApplicationNavbar=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n="";return e.length>1?n="has-ul":1===e.length&&(n="app-list-btn"),'<div class="ebgnav-app-list '.concat(n,'">\n    <span class="ebgnav-app-list-separator"></span>\n    <a href="javascript:;" class="ebgnav-app-list-current" id="ebgnav-app-current-link-name">\n      <span id="ebgnav-app-current-name" class="text-ellipsis" title="').concat(t,'">').concat(t,'</span><i class="ebginav inav-down"></i>\n    </a>\n    <dl class="children" id="ebgnav-app-list-separator-ul"></dl>\n    </div>')};t.getBrowseUrlIdActiveMenu=function(e){var t=window.location.search;if(!e.length||!t)return!1;var n=t.slice(1).split("&")[0].split("="),a=(0,r.default)(n,2),i=a[0],o=a[1];if(!i||"id"!==i||!o)return!1;e.forEach(function(e){e.id===o?e.current=!0:e.current=!1})};t.loadImg=function(e,t){if(e){var n=null;if(1===e.nodeType&&(n=e),"string"==typeof e&&-1!==e.indexOf("http")){var a=new Image;a.src=e,n=a}n?(n.readyState?n.onreadystatechange=function(){"loaded"!==n.readyState&&"complete"!==n.readyState||(n.onreadystatechange=null,t())}:n.onload=function(){t()},n.onerror=function(){t()}):t(!0)}else t(!0)};var u=function(e){var t=Object.prototype.toString.call(e);return"[object Object]"===t&&(t="[object"+e.constructor.name+"]"),t};t.typeofChecking=u;t.getWorkbenchUrl=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"workbench";if(!Array.isArray(e))return"";var n={};return e.some(function(e){if(e.menuKey===t)return n=e,!0}),n||{}};t.getCurrentRole=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!Array.isArray(e))return{};var t={};return e.some(function(e){if(e.active)return t=e,e.active}),t||{}};t.traverseDomArr=function e(t){var n;if("[object NodeList]"===u(t)&&(n=t),"[object HTMLDivElement]"!==u(t)&&"[object HTMLDListElement]"!==u(t)||(n=t&&t.querySelectorAll("dd")),"[object String]"===u(t)&&t){var a=document.querySelector(t);a&&(n=a.querySelectorAll("dd"))}if(!n)return!1;for(var r=0;r<n.length;r++){var i=n[r],o=i&&i.querySelector(".has-children"),s=o&&o.querySelectorAll("dd");s&&s.length&&e(s),p(i)}};var p=function(e){e.addEventListener("click",function(t){if(t&&t.stopImmediatePropagation?t.stopImmediatePropagation():window.event.cancelBubble=!0,"ebg-nav-workbench"===t.currentTarget.id)return(0,i.workbenchEvent)(),!1;if("1"===e.getAttribute("haschildrenmodules")||e.querySelector("dl"))return!1;var n=JSON.parse(e.querySelector(".custom_navbar__content_data").innerText);g(n,e)})};t.traverseNavListEvent=p;var f=["#","undefined","null","javascript:;"],g=function(e,t){if("[object Object]"!==Object.prototype.toString.call(e)&&(e=t?JSON.parse(t.querySelector(".custom_navbar__content_data").innerText):{}),e.url&&-1===f.indexOf(e.url))window.open(e.url,e.target||"_self");else{if(!e.funcname||-1!==f.indexOf(e.funcname))throw new Error("url和funcname不能同时为空,或者值无效，请检查配置数据!");window.ebgnavigation.emit(e.funcname,e)}t&&v(e,t)};t.commonNavEvent=g;var v=function(e,t){var n=document.querySelector("#".concat(e.element)).querySelectorAll("dd");if(y(n),"ebgnav-primaryNavList"===e.element){var a=document.querySelector("#ebgnav-secondaryNavList"),r=a?a.querySelectorAll("dd"):[];y(r)}if(window.ebgnavigation.config.hideLight||e.hideLight)return!1;s(t,"add","current"),m(t,e)},m=function e(t,n){var a=t.parentNode,r=a&&a.parentNode;if(r){var i=r.getAttribute("class");i&&-1!==i.indexOf("current")||s(r,"add","current");var o=r.getAttribute("class");o&&-1===o.indexOf(n.element)&&e(r,n)}},y=function(e){if(!e)return!1;for(var t=e.length,n=0;n<t;n++){var a=e[n],r=a.getAttribute("class");r&&-1!==r.indexOf("current")&&s(a,"delete","current")}};t.getUrlOrigin=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return e.match(/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/)[t]};t.loadNavigationError=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";window.ebgnavigation.emit("loadNavigationError"),window.loadNavigationError="failed",sessionStorage.setItem("loadNavigationError",e)};t.clearDefaultEmitEvent=function(){["loadNavigationError","getNavbarConfigData","navRenderCompleted"].forEach(function(e){sessionStorage.removeItem(e),window[e]=null})};t.delProtocol=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/^(http|https):/,"")};t.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)};t.isString=function(e){return"string"==typeof e};t.getURLParameters=function(e){return(e.match(/([^?=&]+)(=([^&]*))/g)||[]).reduce(function(e,t){return e[t.slice(0,t.indexOf("="))]=t.slice(t.indexOf("=")+1),e},{})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){function t(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.push("v="+Math.floor(1e4*Math.random()+500)),t.join("&")}(e=e||{}).data=e.data||{},e.jsonp?function(e){var n=e.jsonp,a=document.getElementsByTagName("head")[0];e.data.callback=n;var r=t(e.data),i=document.createElement("script");a.appendChild(i),window[n]=function(t){a.removeChild(i),clearTimeout(i.timer),window[n]=null,e.success&&e.success(t)},i.src=e.url+"?"+r,document.addEventListener("error",function(t){t&&t.target===i&&(i.timer&&clearTimeout(i.timer),e.error&&e.error(Object.assign({message:"js加载出错"},e)))},!0),e.time&&(i.timer=setTimeout(function(){window[n]=null,a.removeChild(i),e.error&&e.error({message:"超时"})},e.time))}(e):function(e){e.type=(e.type||"GET").toUpperCase(),e.data=t(e.data);var n=null;(n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObjcet("Microsoft.XMLHTTP")).onreadystatechange=function(){if(4===n.readyState){var t=n.status;if(t>=200&&t<300){var a="",r=n.getResponseHeader("Content-type");a=-1!==r.indexOf("xml")&&n.responseXML?n.responseXML:"application/json"===r?JSON.parse(n.responseText):n.responseText,e.success&&e.success(a)}else e.error&&e.error(t)}},"GET"===e.type?(n.open(e.type,e.url+"?"+e.data,!0),n.send(null)):(n.open(e.type,e.url,!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),n.send(e.data))}(e)};t.default=a,e.exports=t.default},function(e,t){function n(t){"@babel/helpers - typeof";return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(3)),i=function(){var e={},t=null;function n(e,n){var a=e.callback;i(!1),e.box.parentNode.removeChild(e.box),t=e.box=null,a&&a(n)}function a(a){if(t){var r=(a=a||window.event).which||window.event.keyCode;return e.message.keyboard&&(13!==r&&32!==r||n(t,!0),27===r&&n(t,!1)),a.preventDefault&&a.preventDefault(),!(a.cancelBubble=!0)}}function i(e){i.cover||(i.cover=document.createElement("DIV"),i.cover.onkeydown=a,i.cover.className="ebg_modal_cover",document.body.appendChild(i.cover)),i.cover.style.display=e?"inline-block":"none"}function o(e,t){return"<button class='ebg_popup_button ebg-button ebg-button--medium "+(t?"ebg-button--primary":"")+"' result='"+t+"'>"+e+"</button>"}function s(r,s,l){var c=r.tagName?r:function(e,a,r){var i=document.createElement("DIV");i.className=" ebg_modal_box ebg-"+e.type,i.setAttribute("dhxbox",1);var s="";if(e.width&&(i.style.width=e.width),e.height&&(i.style.height=e.height),e.title&&(s+='<div class="ebg_popup_title">'+e.title+"</div>"),s+='<div class="ebg_popup_text"><span>'+(e.content?"":e.text)+'</span></div><div  class="ebg_popup_controls">',e.cancel&&"string"==typeof e.cancel&&(s+=o(e.cancel,!1)),e.confirm&&"string"==typeof e.confirm&&(s+=o(e.confirm,!0)),s+="</div>",i.innerHTML=s,e.content){var l=e.content;"string"==typeof l&&(l=document.getElementById(l)),"none"===l.style.display&&(l.style.display=""),i.childNodes[e.title?1:0].appendChild(l)}return i.onclick=function(t){var a=(t=t||window.event).target||t.srcElement;a.className||(a=a.parentNode),-1!==a.className.indexOf("ebg_popup_button")&&("true"===a.getAttribute("result")?n(e):n(e,!0))},e.box=i,(a||r)&&(t=e),i}(r,s,l);r.hidden||i(!0),document.body.appendChild(c);var d=r.left||Math.abs(Math.floor(((window.innerWidth||document.documentElement.offsetWidth)-c.offsetWidth)/2)),u=r.top||Math.abs(Math.floor(((window.innerHeight||document.documentElement.offsetHeight)-c.offsetHeight)/2));return"top"===r.position?c.style.top="-3px":c.style.top=u+"px",c.style.left=d+"px",c.onkeydown=a,c.focus(),r.hidden&&e.modalbox.hide(c),c}function l(e){return s(e,!0,!0)}function c(e,t,n){return"object"!==(0,r.default)(e)&&("function"==typeof t&&(n=t,t=""),e={text:e,type:t,callback:n}),e}document.attachEvent?document.attachEvent("onkeydown",a):document.addEventListener("keydown",a,!0),e.confirm=function(){var e=c.apply(this,arguments);return e.type=e.type||"alert",l(e)},e.modalbox=function(){var e=c.apply(this,arguments);return e.type=e.type||"alert",l(e)},e.modalbox.hide=function(e){for(;e&&e.getAttribute&&!e.getAttribute("dhxbox");)e=e.parentNode;e&&(e.parentNode.removeChild(e),i(!1))};var d=e.message=function(e,t){return(e=function(e,t,n,a){return"object"!==(0,r.default)(e)&&(e={text:e,type:t,expire:n,id:a}),e.id=e.id||d.uid(),e.expire=e.expire||d.expire,e}.apply(this,arguments)).type=e.type||"info",function(e){d.area?d.area.style.display="block":(d.area=document.createElement("DIV"),d.area.className="ebg_message_area",d.area.style[d.position]="5px",document.body.appendChild(d.area)),d.hide(e.id);var t,n=document.createElement("DIV");return n.innerHTML="<div class='text'>"+e.text+"</div>",n.className="ebg-info message__"+("success"===(t=e.type)?t:"error"===t?t:"warning"===t?t:""),n.onclick=function(){d.hide(e.id),e=null},"bottom"===d.position&&d.area.firstChild?d.area.insertBefore(n,d.area.firstChild):d.area.appendChild(n),e.expire>0&&(d.timers[e.id]=window.setTimeout(function(){d.hide(e.id)},e.expire)),d.pull[e.id]=n,n=null,e.id}(e)};return d.seed=(new Date).valueOf(),d.uid=function(){return d.seed++},d.expire=1500,d.keyboard=!0,d.position="top",d.pull={},d.timers={},d.hideAll=function(){for(var e in d.pull)d.hide(e)},d.hide=function(e){var t=d.pull[e];t&&t.parentNode&&(window.setTimeout(function(){t.parentNode.removeChild(t),t=null},2e3),t.className+=" hidden",d.timers[e]&&window.clearTimeout(d.timers[e]),delete d.pull[e],0===Object.keys(d.pull).length&&(document.querySelector(".ebg_message_area").style.display="none"))},e}();t.default=i,e.exports=t.default},function(e,t,n){"use strict";var a=n(3);Object.defineProperty(t,"__esModule",{value:!0}),t.tpl=t.base=t.apiUrl=t.config=void 0;var r=n(1),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var l=i?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(r,o,l):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(12)),o=n(6);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}t.config={type:"platform",theme:"",primaryNav:{platformLogo:"",platformName:"",appLogo:"",platformNavList:[],appNavList:[],appList:[],appName:"",subtitle:""},secondaryNav:{secondaryNavList:[]},operation:{settingList:[]}};t.apiUrl={menus:"/desktop/backend/api/portal/menus.do",appStatus:"/desktop/backend/appInfo/status",appEnterable:"/desktop/backend/indexPage/appEnterable.do"};var l={hosturl:"",defaultNavList:[],platformNavList:[],noLoginShow:1,themeList:[],themeDefault:"2",theme:"",user:{},unreadNum:0,navbarConfig:{},applicationsList:[],isGuidance:!1,defaultAvatar:o.avatar,ssoRequestNum:0};t.base=l;var c={baseTemp:(0,r.templateFilter)(i.getBaseTemplate),moreTemp:(0,r.templateFilter)(i.getNavMoreTemplate),moreSecTemp:(0,r.templateFilter)(i.getSecMoreTemplate),secondaryNameTemp:(0,r.templateFilter)(i.getSecondaryNameTemplate),platformLogoTemp:(0,r.templateFilter)(i.getPlatformLogoTemplate),applicationLogoTemp:(0,r.templateFilter)(i.getApplicationLogoTemplate),appIconListTemp:(0,r.templateFilter)(i.getAppIconListTemplate),navUserTemp:(0,r.templateFilter)(i.getNavUserTemplate),detailUserTemp:(0,r.templateFilter)(i.getUserinfoTemplate)};t.tpl=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultAppImg=t.noData=t.avatar=void 0;t.avatar="data:image/png;base64,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";t.noData="data:image/png;base64,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";t.defaultAppImg="data:image/png;base64,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"},function(e,t,n){var a=n(16),r=n(17),i=n(9),o=n(18);e.exports=function(e){return a(e)||r(e)||i(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var a=n(8);e.exports=function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var a=n(23),r=n(24),i=n(9),o=n(25);e.exports=function(e,t){return a(e)||r(e,t)||i(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.workbenchEvent=t.teacherRole=void 0;var r,i,o,s,l=a(n(4)),c=a(n(2)),d=n(1),u="",p=[];t.teacherRole=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];s=e,p=e.identityList||[];var n=(0,d.getCurrentRole)(p);if(o=n.identity||"",r=n.name||"",u=s.roleInfo&&s.roleInfo.currentRole||"",sessionStorage.setItem("teacherRoleId",o),localStorage.setItem("teacherRoleId",o),(0,d.setCookie)("teacherRoleId",o),i=(0,d.getWorkbenchUrl)(e.menus),Array.isArray(p)&&p.length<2)return!1;v();var a=document.querySelector(".teacher-role-current-name");a&&a.addEventListener("click",function(e){e.stopPropagation()}),f(i,t)};var f=function(e,t){for(var n=document.querySelector(".teacher-role-box"),a=n&&n.children||[],i=function(n){var i=a[n];i.addEventListener("click",function(n){n.stopPropagation();var a=JSON.parse(i.querySelector(".element-data").innerText||"{}");if(window.location.href.indexOf("/workbench")>-1&&o===a.identity)return!1;o=a.identity,r=a.name,sessionStorage.setItem("teacherRoleId",o),localStorage.setItem("teacherRoleId",o),(0,d.setCookie)("teacherRoleId",o),g(o,e,t)})},s=0;s<a.length;s++)i(s)},g=function(e,t,n){if(!e)return!1;var a=n+"/desktop/backend/api/portal/switchIdentity";(0,c.default)({type:"GET",jsonp:"jsonpCallbackSwitchIdentity",url:a,data:{identity:e},success:function(n){l.default.message("切换成功","success"),window.open("".concat(t.url,"&tarIdentity=").concat(e,"&roleType=").concat(u,"&"),"_self")},error:function(){l.default.message("切换失败","error")}})},v=function(){var e=document.getElementById("ebg-nav-workbench");if(!e)return"";e.insertAdjacentHTML("beforeend",'<div class="teacher-role-current-name"><span class="name text-ellipsis" title="'.concat(y(r),'}">').concat(y(r),'</span><i class="ebginav inav-down"></i>').concat(m(),"</div>"))},m=function(){var e="";return p.forEach(function(t){e+='<dd class="'.concat(t.identity===o?"active":"",'" id="').concat(t.identity,'">个人门户<span class="teacher-role-list-label">').concat(y(t.name),'</span><span class="element-data" style="display:none">').concat(JSON.stringify(t),"</span></dd>")}),e?'<dl class="dropdown-box teacher-role-box">'.concat(e,"</dl>"):""},y=function(e){return e?e.substring(0,2)+"版":e};t.workbenchEvent=function(){i||(i=(0,d.getWorkbenchUrl)(s.menus));var e="".concat(i.url,"&tarIdentity=").concat(o,"&roleType=").concat(u,"&");window.open(e,"_self")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={getBaseTemplate:'\n<div class="ebgnav" id="ebgnav-box">\n  <div class="ebgnav-primary clearfix">\n    <div class="ebgnav-logobox" id="ebgnav-ebgnavLogobox">\n      <div id="ebgnav-logo" class="ebgnav-app-logo"></div>\n      <div id="ebgnav-app-list" class="ebgnav-app-list-container" style="display:none;"></div>\n    </div>\n    <div class="ebgnav-primary-navlist">\n      <dl id="ebgnav-primaryNavList" class="clearfix">\n      </dl>\n    </div>\n    <div class="ebgnav-operation">\n      <dl class="clearfix">\n        <dd class="ebgnav-operation-setting" id="ebgnav-operation-setting" style="display: none">\n          <a href="javascript:;"><i class="ebginav inav-setting"></i></a>\n          <dl class="children" id="ebgnav-ebgnavSetting">\n          </dl>\n        </dd>\n        <dd class="ebgnav-operation-appentry" style="display: none">\n          <a href="javascript:;"><i class="ebginav inav-app-entry"></i></a>\n          <div class="ebgnav-appentry-box">\n            <div class="ebgnav-appentry-application" id="ebgnav-isPlatform">\n            </div>\n            <div class="ebgnav-appentry-search" style="display:none;">\n              <input type="text" placeholder="查找应用" class="search-keyword">\n              <button class="search-button"><i class="ebginav inav-search"></i></button>\n            </div>\n            <div class="ebgnav-appentry-list" id="ebgnav-defaultApplications">\n            </div>\n            <div class="ebgnav-appentry-btnmore">\n              <a id="show-search" href="javascript:;">更多应用</a>\n            </div>\n          </div>\n        </dd>\n        <dd class="ebgnav-operation-userinfo">\n          <a href="javascript:;" class="userinfo-link" id="ebgnav-navUserinfo">\n          </a>\n          <div class="ebgnav-userinfo-box">\n            <div class="ebgnav-userinfo-userinfo" id="ebgnav-detailUserinfo" >\n            </div>\n            <dl class="ebgnav-userinfo-list ebgnav-userinfo-list-test" id="user-setting-list"></dl>\n            <div class="ebgnav-logout">\n              <a class="logout-btn" href="javascript:;">退出登录</a>\n            </div>\n          </div>\n        </dd>\n        <dd class="ebgnav-operation-loginbtn" style="display: none"><a href="#" class="ebg-button ebg-button--small ebg-button--primary">欢迎登录</a></dd>\n      </dl>\n    </div>\n  </div>\n  <div class="ebgnav-secondary">\n    <div class="ebgnav-secondary-warp clearfix">\n      <div class="secondary-name" id="ebgnav-secondaryName"></div>\n      <div class="ebgnav-secondary-navlist" id="ebgnav-secondary-navlist">\n        <dl id="ebgnav-secondaryNavList" class="clearfix">\n        </dl>\n      </div>\n    </div>\n  </div>\n</div>',getNavMoreTemplate:'\n<dd class="ebgnav-primaryNavList ebgnav-primaryNavList-more right ebg-nav-item">\n  <a href="JavaScript:;">更多<i class="ebginav inav-down"></i></a>\n  <dl class="children more-children"></dl>\n</dd>\n',getSecMoreTemplate:'\n<dd class="ebgnav-secondaryNavList ebgnav-secondaryNavList-more right ebg-nav-item">\n  <a href="JavaScript:;">更多<i class="ebginav inav-down"></i></a>\n  <dl class="children more-children"></dl>\n</dd>\n',getSecondaryNameTemplate:'\n<i class="ebginav inav-secondary-name"></i><span><% this %></span>\n',getPlatformLogoTemplate:'\n<a id="logo-event" href="<% this.logoLink %>" class="ebgnav-logo-a" target="<% this.logoLinkTarget %>">\n  <% if(this.logoSrc) { %>\n    <img id="ebgnavigationLogo" class="ebgnav-logo-img" src="<% this.logoSrc %>">\n  <% } \n  if(this.name) { %>\n  <span class="ebgnav-logo-title text-ellipsis" title="<% this.name %>"><% this.name %></span>\n  <% } %>\n</a>\n',getApplicationLogoTemplate:'\n<a id="logo-event" href="<% this.logoLink %>" target="<% this.logoLinkTarget %>" class="ebgnav-app-logo-a">\n  <span class="ebgnav-app-logo-span"><img id="ebgnavigationLogo" src="<% this.logoSrc %>"></span>\n  <span class="ebgnav-app-name text-ellipsis" title="<% this.appName %>"><% this.appName %></span>\n</a>\n<% if(this.subtitle) { %>\n  <div class="ebgnav-app-subtitle text-ellipsis" title="<% this.subtitle %>"><% this.subtitle %></div>\n<% } %>\n',getAppIconListTemplate:'\n<dl class="clearfix">\n  <% for(var i = 0; i < this.length; i++) { \n    var item = this[i];\n  %>\n  <dd><a href="<% item.url %>" target="_blank" title="<% item.appName %>" data-appid="<% item.id %>">\n    <span class="img-box"><img src="<% item.src %>"></span>\n    <p class="app-name text-ellipsis"><% item.appName %></p>\n  </a></dd>\n  <%\n  }\n  %>\n</dl>\n',getNavUserTemplate:'\n<span class="ebgnav-userface element-vertical" id="ebgnav-hasNewMsg">\n<img src="<% this.userPhoto %>">\n</span>\n<span class="ebgnav-username" data-userId="<% this.userId %>"><% this.userName %></span>\n<span class="ebgnav-userdown"><i class="ebginav inav-arrow-down"></i></span>\n',getUserinfoTemplate:'\n<div class="user-avatar-box">\n<img src="<% this.userPhoto %>">\n</div>\n<div class="ebgnav-userinfo-username text-ellipsis" title="<% this.userName %>" data-userId="<% this.userId %>"><% this.userName %></div>\n'};t.default=a,e.exports=t.default},function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.appClick=void 0;var r=a(n(2)),i=a(n(4)),o=function(e,t){return!!function(e){return!(null==e||e.length<1)}(e)||(i.default.confirm({title:"提示",text:t,confirm:"确定"}),!1)};function s(e){for(var t=/^[\u0391-\uFFE5%]+$/,n=e.length,a="",r=0;r<n;r++)t.test(e.charAt(r))?a+=escape(e.charAt(r)):a+=e.charAt(r);return-1===a.indexOf("_app_encoding_tag_=")&&(a.indexOf("?")>=0?a+="&_app_encoding_tag_=1":a+="?_app_encoding_tag_=1"),encodeURI(a)}t.appClick=function(e){o(e.url,"应用正在紧张开发中")&&o(e.name,"应用名称错误")&&o(e.id,"应用标识错误")&&o(e.target,"跳转方式错误")&&(0,r.default)({url:e.hosturl+e.apiUrl.appStatus,type:"post",data:{appId:e.id},jsonp:"jsonp",success:function(t){if(t.code)i.default.confirm({title:"提示",text:"-5101"!==t.code?t.msg:"应用未授权,请联系管理员",confirm:"确定"});else if(1!==t.expired){var n,a,o,l;if(0!==e.url.indexOf("/"))return/^http(s)?/gi.test(e.url)||(e.url="http://"+e.url),n=e.id,a=e.hosturl,o=e.apiUrl,l=function(){if(e.url){var t=window.open(e.url,e.target);null!==t&&void 0!==t||i.default.confirm({title:"提示",text:"弹窗被浏览器拦截，请设置浏览器权限",eventType:"hideTips",btnMsg:"确定"})}else i.default.confirm({title:"提示",text:"应用正在紧张开发中",confirm:"确定"})},void(0,r.default)({type:"GET",url:a+o.appEnterable,jsonp:"jsonp",async:!1,data:{appId:n},success:function(e){if(!0===e.success){var t=e.data;if(!1===t.enable){var n="";n=!0===t.isAdmin?"应用数据权限发生变化，为了保护学校的数据安全，该应用暂时停止访问，请到应用管理-已添加应用-数据权限管理中进行应用数据权限审核。":"应用数据权限发生变化，为了保护学校的数据安全，该应用暂时停止访问，需要学校管理员审核后才能正常使用，如需使用请联系学校管理员。",i.default.confirm({title:"提示",text:n,confirm:"确定"})}l&&l()}else i.default.confirm({title:"提示",text:e.msg,confirm:"确定"})},error:function(){}});if(e.appendParam)return e.url="/app/getInto.do?url="+encodeURIComponent(e.url),e.url+="&appendParams="+e.appendParam,void window.open(e.url,e.target);e.url.indexOf("&appendText2Param=false")>0?e.url=e.url.replace("&appendText2Param=false",""):-1===e.url.indexOf("?")?e.url=e.url+s("?_app_encoding_tag_=1&text="+e.name+"&__time__="+(new Date).getTime()):e.url=e.url+s("&_app_encoding_tag_=1&text="+e.name+"&__time__="+(new Date).getTime()),window.open(e.url,e.target)}else i.default.confirm({title:"提示",text:"此应用已过期,请联系管理员",confirm:"确定"})}})}},function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.renderSecondaryName=t.renderAppList=t.renderSettingList=t.renderSecondaryNav=t.renderPrimaryNav=void 0;var r=a(n(7)),i=n(5),o=n(1),s=n(31),l=n(11),c=n(32);t.renderPrimaryNav=function(){var e=document.querySelector("#ebgnav-primaryNavList");if(!e)return!1;var t={origin:"renderArray",element:"ebgnav-primaryNavList",renderName:"renderPrimaryNavList",identityList:i.base.navbarConfig&&i.base.navbarConfig.identityList||[],position:!0};if("application"===i.config.type)(0,s.renderEbgNav)(e,i.config.primaryNav.appNavList,t);else{var n=(i.base.navbarConfig||{}).menus,a=void 0===n?[]:n;(0,o.getBrowseUrlIdActiveMenu)(a),(0,s.renderEbgNav)(e,[].concat((0,r.default)(a),(0,r.default)(i.base.platformNavList)),t),(0,l.teacherRole)(i.base.navbarConfig,i.base.hosturl)}i.base.navRenderCompleted||(i.base.navRenderCompleted=!0,window.navRenderCompleted="navRenderCompleted",window.ebgnavigation.emit("navRenderCompleted"))};var d=function(){if("application"!==i.config.type)return!1;var e=document.querySelector(".ebgnav-secondary");if(!(i.config.secondaryNav.secondaryName||i.config.secondaryNav.secondaryNavList.length>0))return(0,o.displayElement)(e,"none"),!1;(0,o.displayElement)(e,"block");var t=document.querySelector("#ebgnav-secondaryNavList"),n={origin:"secondaryNav.secondaryNavList",element:"ebgnav-secondary-navlist",renderName:"renderSecondaryNavList",position:!0,secondaryName:i.config.secondaryNav.secondaryName};(0,s.renderEbgNav)(t,i.config.secondaryNav.secondaryNavList,n)};t.renderSecondaryNav=d;t.renderSettingList=function(){var e=document.querySelector(".ebgnav-operation-setting");e&&(i.config.operation&&Array.isArray(i.config.operation.settingList)?(i.config.operation.settingList.length?(0,o.displayElement)(e,"block"):(0,o.displayElement)(e,"hide"),u(document.querySelector("#ebgnav-ebgnavSetting"),i.config.operation.settingList,{origin:"operation.settingList",element:"ebgnav-operation-setting",renderName:"renderSettingList"})):e&&(0,o.displayElement)(e,"hide"))};t.renderAppList=function(){var e=i.config.primaryNav.appList||[],t=document.querySelector("#ebgnav-app-list");if(!t||"application"!==i.config.type)return!1;if(t.innerHTML="",0===e.length)(0,o.displayElement)(t,"none");else{for(var n="",a=0;a<e.length;a++)if(e[a].current){n=e[a].title;break}!n&&e&&e.length&&(n=e[0].title,e[0].current=!0);var r=(0,o.renderApplicationNavbar)(e,n);if(t&&t.insertAdjacentHTML("beforeend",r),(0,o.displayElement)(t,"block"),e&&e.length>1)p();else if(e&&1===e.length){var s=e[0]||{},l=document.querySelector(".ebgnav-app-list");!0===s.disabled?l&&(0,o.handleClass)(l,"add","disabled"):l&&(0,o.handleClass)(l,"remove","disabled");var c=document.querySelector("#ebgnav-app-current-link-name");c&&c.addEventListener("click",function(e){e.stopPropagation(),(0,o.commonNavEvent)(s)})}}};var u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||"application"!==i.config.type)return!1;(0,c.renderDropdown)(e,t,n)},p=function(){var e=document.getElementById("ebgnav-app-list-separator-ul");if(!e)return!1;u(e,i.config.primaryNav.appList,{origin:"primaryNav.appList",element:"ebgnav-app-list",renderName:"renderAppListDropdownList"})};t.renderSecondaryName=function(){if("application"===i.config.type){var e=document.querySelector(".ebgnav-secondary"),t=document.querySelector("#ebgnav-secondaryName");0===i.config.secondaryNav.secondaryNavList.length&&(0,o.displayElement)(e,"block"),i.config.secondaryNav.secondaryName||0!==i.config.secondaryNav.secondaryNavList.length?(i.base.oldSecondaryName&&i.config.secondaryNav.secondaryName||!i.base.oldSecondaryName&&!i.config.secondaryNav.secondaryName||d(),i.base.oldSecondaryName!==i.config.secondaryNav.secondaryName&&(i.base.oldSecondaryName=i.config.secondaryNav.secondaryName,t.innerHTML=(0,o.templateRender)(i.tpl.secondaryNameTemp,i.config.secondaryNav.secondaryName),i.config.secondaryNav.secondaryName?(0,o.displayElement)(t,"block"):(0,o.displayElement)(t,"none"))):(0,o.displayElement)(e,"none")}}},function(e,t,n){"use strict";var a=n(0),r=n(3);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(7)),o=a(n(19)),s=a(n(20)),l=a(n(10)),c=a(n(3)),d=k(n(1)),u=k(n(26)),p=k(n(27)),f=n(5),g=a(n(2)),v=n(13),m=n(28),y=n(29),b=n(30),h=n(6),N=n(14),A=a(n(33)),w=a(n(4)),L=n(34);function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}function k(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}n(35),window.console||(window.console={log:function(e){},err:function(e){}}),"function"!=typeof Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");e=Object(e);for(var t=1;t<arguments.length;t++){var n=arguments[t];if(null!=n)for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e});var S=function(){var e;f.base.themeList.length||(f.base.themeList=P()||[]),f.base.themeList.some(function(t){if(t.id===f.base.themeDefault)return e=t,!0}),f.base._theme=e},E=function(e){if(!e)return!1;for(var t=d.delProtocol(e),n=document.getElementsByTagName("link"),a=n.length,r=0;r<a;r++){var i=n[r],o=i&&i.getAttribute("rel");o&&-1!==o.indexOf("icon")&&d.removeElement(i)}var s=document.createElement("link");s.type="image/x-icon",s.rel="shortcut icon",s.href=t+"?t=".concat(Date.now()),document.getElementsByTagName("head")[0].insertAdjacentElement("beforeend",s)},C=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(window.qt)(0,N.renderAppList)(),(0,N.renderPrimaryNav)(),d.handleClass(document.querySelector(".ebgnav-app-list-separator"),"add","hide"),d.handleClass(document.querySelector("#ebgnav-logo"),"add","hide");else{f.base._theme||S(),f.config.primaryNav.logo=d.delProtocol(f.base._theme?"platform"===f.config.type?f.config.primaryNav.platformLogo||f.base._theme.platformLogo:f.config.primaryNav.appLogo||f.base._theme.appLogo:"");var t=(0,d.$)("#ebgnav-logo");if(!t)return!1;e&&(t.innerHTML="",(0,N.renderAppList)());var n=f.config.primaryNav.logoLink||"javascript:;";if("application"===f.config.type)t.insertAdjacentHTML("afterbegin",d.templateRender(f.tpl.applicationLogoTemp,{logoSrc:f.config.primaryNav.logo,subtitle:f.config.primaryNav.subtitle,appName:f.config.primaryNav.appName||"",logoLink:n,logoLinkTarget:f.config.primaryNav.logoLinkTarget||"_self"})),(0,N.renderPrimaryNav)();else{n=f.config.primaryNav.logoLink||f.base._theme.logoLink,t.insertAdjacentHTML("afterbegin",d.templateRender(f.tpl.platformLogoTemp,{logoSrc:f.config.primaryNav.logo,name:f.config.primaryNav.platformName,logoLink:n,logoLinkTarget:f.config.primaryNav.logoLinkTarget||"_self"}));var a=document.querySelector("#ebgnavigationLogo");(0,N.renderPrimaryNav)(),d.loadImg(a,function(){a&&a.clientWidth>=130&&(0,N.renderPrimaryNav)()})}T()}},T=function(){if(!f.config.primaryNav.logoLink&&f.config.primaryNav.logoEvent){var e=document.querySelector("#logo-event");e&&e.addEventListener("click",function(e){e.stopPropagation(),"object"===(0,c.default)(f.config.primaryNav.logoEvent)?window.ebgnavigation.emit(f.config.primaryNav.logoEvent.funcname,f.config.primaryNav.logoEvent.property):"string"==typeof f.config.primaryNav.logoEvent&&window.ebgnavigation.emit(f.config.primaryNav.logoEvent)})}},j=function(){(0,m.getAllAppsData)(f.apiUrl,f.base)},M=function(){Array.isArray(f.base.applicationsList)&&f.base.applicationsList.length>0?(0,d.$)("#ebgnav-defaultApplications").innerHTML=d.templateRender(f.tpl.appIconListTemp,f.base.applicationsList):(0,d.$)("#ebgnav-defaultApplications").innerHTML='<div class="no-app-data"><img src="'.concat(h.noData,'" /><p class="text">管理员还没有设置常用应用</p></div>'),function(){var e=document.getElementById("show-search"),t=document.getElementById("ebgnav-defaultApplications").getElementsByTagName("ul")[0],n=t&&t.getElementsByTagName("li"),a=n&&n.length;if(a)for(var r=function(e){var t=n[e].getElementsByTagName("a")[0],a=t.getAttribute("data-appid"),r=t.getAttribute("title"),i=t.getAttribute("href"),o=t.getAttribute("target"),s=t.getAttribute("append-param");t.onclick=function(e){e.preventDefault(),(0,v.appClick)({id:a,name:r,url:i,target:o,hosturl:f.base.hosturl,apiUrl:f.apiUrl,appendParam:s})}},i=0;i<a;i++)r(i);e.addEventListener("click",j)}()},I=function(e,t){return!(!t||!e)&&-1!==e.getAttribute("class").indexOf(t)},U=function(e){var t=(0,d.$)("#ebgnav-box");switch(q(e)){case"themeblue":if(I(t,"themeblue"))return!1;d.handleClass(t,"add","themeblue"),d.handleClass(t,"delete","themedark"),d.handleClass(t,"delete","themegreen"),d.handleClass(t,"delete","default");break;case"themedark":if(I(t,"themedark"))return!1;d.handleClass(t,"add","themedark"),d.handleClass(t,"delete","themegreen"),d.handleClass(t,"delete","themeblue"),d.handleClass(t,"delete","default");break;case"themegreen":if(I(t,"themegreen"))return!1;d.handleClass(t,"add","themegreen"),d.handleClass(t,"delete","themeblue"),d.handleClass(t,"delete","default"),d.handleClass(t,"delete","themedark");break;default:if(I(t,"default"))return!1;d.handleClass(t,"add","default"),d.handleClass(t,"delete","themegreen"),d.handleClass(t,"delete","themeblue"),d.handleClass(t,"delete","themedark")}},O=function(e,t){if(e.user||(!function(e){var t="ebg-button ebg-button--small";"1"!==e&&"2"!==e||(t+=" ebg-button--primary");var n=document.querySelector(".ebgnav-operation-loginbtn"),a=n&&n.children[0];a&&(a.href="".concat(f.base.hosturl||"","/desktop/login"),a.setAttribute("class",t),n.style.display="block")}(e.navigationConfig&&e.navigationConfig.positionTheme),document.querySelector(".ebgnav-operation-setting").style.display="none",(0,d.$)(".ebgnav-operation-userinfo")[0].style.display="none"),"platform"===f.config.type){if((0,d.$)(".ebgnav-secondary")[0].style.display="none",(0,d.$)("#ebgnav-isPlatform").style.display="none",window.qt)return d.handleClass(document.querySelector("#ebgnav-box"),"add","hide"),!1}else(0,d.$)("#ebgnav-isPlatform").style.display="block",(0,N.renderSettingList)(),(0,N.renderAppList)(),(0,N.renderSecondaryName)(),(0,N.renderSecondaryNav)();G(e,t)},D=function(e){d.loadStyle("".concat(f.base.hosturl,"/ebgnavigation/css/ebgnavigation.min.css"),function(){var t=document.querySelector("#ebgnav-box");t&&d.removeElement(t),document.body.insertAdjacentHTML("afterbegin",d.templateRender(f.tpl.baseTemp,f.config)),d.handleClass(document.querySelector("#ebgnav-box"),"add",f.config.type||"platform"),Y(),e()})},B=function(e,t){var n=t.themes,a=t.positionTheme;a&&n.length&&(f.base.themeDefault=a,f.base.themeList=P(),function(){if(f.base._theme||S(),!f.base._theme.icoUrl)return!1;E(f.base._theme.icoUrl)}(),C())},q=function(e){var t="default";switch(e){case"1":t="themedark",f.base.themeDefault=e;break;case"3":t="themeblue",f.base.themeDefault=e;break;case"4":t="themegreen",f.base.themeDefault=e;break;default:t="default",f.base.themeDefault=e}return f.base._themeId=t,t},P=function(){var e=[];if(f.base.themeList.length>0)return f.base.themeList;if(!f.base.navbarConfig||!f.base.navbarConfig.navigationConfig)return e;var t=f.base.navbarConfig.navigationConfig.themes;if(t&&t.length>0)for(var n=t,a=function(e){var t="";return e.some(function(e){if("desktop"===e.menuKey)return t=e.url,!0}),t}(f.base.navbarConfig.menus),r=0;r<n.length;r++){var i={},o=n[r];i.id=o.id,i.name=o.name,i.platformLogo=o.platformLogoUrl,i.appLogo=o.appLogoUrl,i.logoLink="".concat(a),i.icoUrl=o.iconUrl,e.push(i)}return f.base.themeList=e,e},R=function(e){e&&(f.base.user.userName=e.name,f.base.user.userPhoto=d.delProtocol(e.userPhoto)||f.base.defaultAvatar,f.base.user.loginName=e.username,f.base.user.userId=e.id,f.base.user.userId&&((0,d.$)("#ebgnav-navUserinfo").innerHTML=d.templateRender(f.tpl.navUserTemp,f.base.user),(0,d.$)("#ebgnav-detailUserinfo").innerHTML=d.templateRender(f.tpl.detailUserTemp,f.base.user),d.handleClass((0,d.$)("#ebgnav-box"),"delete","render")))},H=function(e){var t;Array.isArray(e)&&(t=f.base.hosturl?f.base.hosturl.replace("http://","https://"):u.getJsonpHostInScript(u.getCurrentScript().src),e&&e.forEach(function(e){return-1===e.url.indexOf("http")&&("user-logout"!==e.key&&void(e.url="".concat(t).concat(e.url)))}))},_=function(e,t){e.identityInfo=e.identityList,window.getNavbarConfigData=e,sessionStorage.setItem("getNavbarConfigData",JSON.stringify(e)),window.ebgnavigation.emit("getNavbarConfigData",e);var n=e.user||{};!0!==f.config.notloginHideNavBar||n.id?(H(e&&e.menus),H(e&&e.settings),function(e){if(e&&e.length>0){for(var t=e,n=[],a=0;a<t.length;a++){var r={};if(r.title=t[a].moduleName,r.url=t[a].moduleUrl,r.hasChildrenModules=t[a].hasChildrenModules,t[a].childrenModules&&t[a].childrenModules.length>0){r.children=[];for(var i=t[a].childrenModules,o=0;o<i.length;o++)r.children[o]={},r.children[o].title=i[o].moduleName,r.children[o].url=i[o].moduleUrl}n.push(r)}f.base.platformNavList=n}}(e.navigationConfig.platformMoudles||[]),f.base.navbarConfig=e,D(function(){O(e,t)})):d.loadNavigationError("根据用户配置，未登录时，将不显示导航")},F=function(e){window.getNavbarConfigData=null,(0,g.default)({type:"GET",jsonp:"jsonpCallback2"+Date.now(),data:{platformSet:!0,ticket:f.base.ticket,service:"http://ebgnavigation"},time:5e3,url:f.base.hosturl+"/desktop/backend/api/portal/navbarConfig",success:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_(t,e),f.base.navbarConfig=t},error:function(){d.loadNavigationError("navbarConfig接口异常")}})},G=function(e,t){e.menus.length&&(f.config.primaryNav.platformNavList=e.menus),e.navigationConfig&&e.navigationConfig.positionTheme&&(U(e.navigationConfig.positionTheme),B(e.menus,e.navigationConfig)),e.user&&(e.menus.length&&function(e){var t=e.menus,n=void 0===t?[]:t,a=e.identityList,r=void 0===a?[]:a,i=e.roleInfo,o=void 0===i?{}:i;if("application"!==f.config.type)return!1;var s=0,l="";n&&n.forEach(function(e){if("index"===e.menuKey&&(s++,l+='<dd><a href="'.concat(e.url,'" target="_blank">').concat(e.name,"</a></dd>")),"workbench"===e.menuKey){s++;var t=d.getCurrentRole(r);e.url="".concat(e.url,"&tarIdentity=").concat(t.identity||"","&roleType=").concat(o.currentRole),l+='<dd><a href="'.concat(e.url,'" target="_blank">').concat(e.name,"</a></dd>")}});var c=(0,d.$)("#ebgnav-isPlatform");c&&l&&c.insertAdjacentHTML("afterbegin",'<dl class="clearfix '.concat(s>1?"two":"one",'">').concat(l,"</dl>"))}(e),R(e.user),"switchRole"!==t&&(0,A.default)(e.user,f.base.hosturl),(0,b.renderUserSetting)(e,f.base,f.config),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=document.querySelector(".logout-btn");t&&t.addEventListener("click",function(){var t={};e.some(function(e){return t=e,"user-logout"===e.key}),t.key&&(0,y.bindLogout)(t.url)})}(e.settings),K())},K=function(){document.querySelector(".ebgnav-operation-appentry").style.display="block";var e=document.querySelector(".ebgnav-operation-appentry"),t=!1;e&&e.addEventListener("mouseenter",function(){t||(W(),t=!0)})},W=function(){(0,g.default)({type:"GET",jsonp:"jsonpCallback8",url:"".concat(f.base.hosturl,"/desktop/backend/api/portal/navAppVos"),success:function(e){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=document.getElementById("ebgnav-defaultApplications");t&&t.insertAdjacentHTML("afterbegin",'<p style="text-align: center">加载中……</p>');var n=e.cloudNavApps.length;if(Array.isArray(e.cloudNavApps)&&e.cloudNavApps.length>0){var a=[];e.cloudNavApps.forEach(function(e){d.loadImg(e.icon,function(t){var r={};r.appName=e.short_name,r.url=e.url,r.id=e.id,r.src=t?h.defaultAppImg:d.delProtocol(e.icon),a.push(r),n===a.length&&(f.base.applicationsList=a,M())})})}else M()}(e)}})},V=p.debounce(function(){(0,N.renderPrimaryNav)(),"application"===f.config.type&&(0,N.renderSecondaryNav)()},200),Y=function(){window.removeEventListener("resize",V),window.addEventListener("resize",V,!1)},Q=function(e,t,n){var a=e.split("//")[0],r=window.location.protocol,i=!1,o=!1,s=d.getUrlOrigin(t,3).replace(/^www./,"");"http:"===a&&"https:"===r&&(o=function(e,t){var n=d.getUrlOrigin(e,3);return!n||!n.includes(t)}(e,s),e=t),-1===e.indexOf(s)&&e!==t&&(i=!0),n(e,i,o)};window.triggerLoginResult=function(){};var X=function(e){var t=u.getCurrentScript(),n=t&&t.src;f.base._src=n,u.getJsonpHost(n,null,function(t){f.base.hosturl=t||u.getJsonpHostInScript(n),Q(f.base.hosturl,u.getJsonpHostInScript(n),function(t,n,a){if(a){if(!window.qt)return d.loadNavigationError(),!1;_({})}!function(e,t){(0,g.default)({type:"GET",jsonp:"jsonpCallback15"+Date.now(),url:e+"/desktop/backend/login/sso/config",success:function(e){e["sso.server"]&&(f.base.ssoCenterUrl=e["sso.center.server"],t(e["sso.server"]))},error:function(){window.qt?_({}):d.loadNavigationError("sso/config接口异常")}})}(t,function(a){!function e(t,n,a){(0,g.default)({type:"GET",url:t+"/login",jsonp:"jsonpLogin"+Date.now(),data:{crossDomain:!0,needAttribute:!0,service:"http://ebgnavigation"},success:function(t){if(t&&"string"==typeof t)try{if(1001===(t=JSON.parse(t)).code)return f.base.ticket=t.data.st,a(n),!1;f.base.ssoRequestNum++,f.base.ssoCenterUrl&&f.base.ssoRequestNum<=2?e(f.base.ssoCenterUrl,n,a):(f.base.hosturl=n,F())}catch(e){f.base.hosturl=n,F()}},error:function(){d.loadNavigationError("sso接口异常")}})}(a,t,function(){!function(e,t){var n=document.createElement("script");n.src=e+"/desktop/backend/api/portal/triggerLogin.do?callback=triggerLoginResult",document.body.appendChild(n),n.onload=function(){t&&t(),n.parentNode.removeChild(n)},n.onerror=function(){t&&t(),n.parentNode.removeChild(n)}}(t,function(){if(n)window.ebgnavigation.emit("reloadEbgnavigation"),function(e,t){(0,g.default)({type:"GET",jsonp:"jsonpCallback12",data:{platformSet:!0,service:"http://ebgnavigation",ticket:f.base.ticket},url:e+"/desktop/backend/api/portal/navbarConfig",time:5e3,success:function(t){return f.base.navbarConfig=t,window.ebgnavigationUser=t.user,u.reloadNav(f.config,t,e),!1},error:function(){if(!window.qt)return d.loadNavigationError(),!1;_({})}})}(t);else{var a=t;f.base.hosturl=a;var r=f.base.hosturl.charAt(f.base.hosturl.length-1),i=f.base.hosturl.length;f.base.hosturl="/"===r?f.base.hosturl.substring(0,i-1):f.base.hosturl,e&&e()}})})})})})},Z=function(e,t){for(var n=0;n<e.length;n++){var a=e[n];a.title===t?a.current=!0:a.current=!1}},z=function(e,t){return t=t?"".concat(t," "):"",Array.isArray(e)?(setTimeout(function(){(0,L.isQtNavEmpty)()},20),!0):(w.default.message("".concat(t,"API仅支持Array类型数据"),"error",3e3),!1)},J=function(){var e=u.getCurrentScript(),t=e&&e.src;if("string"!=typeof t||!t)return{};var n={};return(d.getUrlOrigin(t,6)||"").split("&").forEach(function(e){var t=e.split("="),a=(0,l.default)(t,2),r=a[0],i=a[1];n[r]=i}),n},$=function(e,t){f.config.type=t.type,t.appName&&(f.config.primaryNav.appName=decodeURIComponent(t.appName)),t.subtitle&&(f.config.primaryNav.subtitle=decodeURIComponent(t.subtitle)),t.appLogo&&(f.config.primaryNav.appLogo=t.appLogo),t.logoLink&&(f.config.primaryNav.logoLink=t.logoLink),"_blank"===t.logoLinkTarget&&(f.config.primaryNav.logoLinkTarget=t.logoLinkTarget),t.logoEvent&&(f.config.primaryNav.logoEvent=t.logoEvent),"true"===t.hideLight&&(f.config.hideLight=!0),"true"===t.hideRole&&(f.config.hideRole=!0),"true"===t.notloginHideNavBar&&(f.config.notloginHideNavBar=!0),"true"===t.platform?(f.config.platform=!0,te.getPlatform(function(t){t?e(f.config):d.loadNavigationError("不是来自平台，直接走catch逻辑")})):e(f.config)},ee=function(){f.base.queueTimer||(f.base.queueTimer=!0,setTimeout(function(){C(!0),f.base.queueTimer=null},20))},te=new(function(){function e(t){var n=this;(0,o.default)(this,e),this.name="ebgnavigation",this.update=new Date,this.events=t||{},setTimeout(function(){var e=J();"application"!==e.type&&"platform"!==e.type||$(n.init,e)},20)}return(0,s.default)(e,[{key:"on",value:function(e,t){var n=this;return(this.events[e]||(this.events[e]=[])).push(t),{unon:function(){return n.events[e]&&n.events[e].splice(n.events[e].indexOf(t)>>>0,1)}}}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];(this.events[e]||[]).forEach(function(e){return e.apply(void 0,n)})}},{key:"getPlatform",value:function(e){!function(e){if(window.qt)return e(!0),!1;var t=u.getCurrentScript(),n=t&&t.src;f.base.hosturl&&(n=f.base.hosturl),u.getJsonpHost(n,null,function(t){e&&"function"==typeof e&&e(!!t)})}(e)}},{key:"init",value:function(e,t,n){d.clearDefaultEmitEvent(),function(e){d.isObject(e)&&("application"===e.type&&(f.config.type=e.type),e.hideLight&&(f.config.hideLight=e.hideLight),e.hideRole&&(f.config.hideRole=e.hideRole),!0===e.notloginHideNavBar&&(f.config.notloginHideNavBar=e.notloginHideNavBar),e.test&&(f.config.test=e.test),e.primaryNav&&"object"===(0,c.default)(e.primaryNav)&&(f.config.primaryNav.appLogo=e.primaryNav.appLogo,f.config.primaryNav.subtitle=e.primaryNav.subtitle,f.config.primaryNav.platformLogo=e.primaryNav.platformLogo,f.config.primaryNav.platformName=e.primaryNav.platformName,e.primaryNav.logoLink&&(f.config.primaryNav.logoLink=e.primaryNav.logoLink),e.primaryNav.appLogoLink&&(f.config.primaryNav.logoLink=e.primaryNav.appLogoLink),"_blank"===e.primaryNav.logoLinkTarget&&(f.config.primaryNav.logoLinkTarget=e.primaryNav.logoLinkTarget),e.primaryNav.appName&&(f.config.primaryNav.appName=e.primaryNav.appName),e.primaryNav.logoEvent&&(f.config.primaryNav.logoEvent=e.primaryNav.logoEvent),Array.isArray(e.primaryNav.platformNavList)&&(f.config.primaryNav.platformNavList=e.primaryNav.platformNavList),Array.isArray(e.primaryNav.appList)&&(f.config.primaryNav.appList=e.primaryNav.appList),Array.isArray(e.primaryNav.appNavList)&&(f.config.primaryNav.appNavList=e.primaryNav.appNavList)),e.secondaryNav&&e.secondaryNav.secondaryName&&(f.config.secondaryNav.secondaryName=e.secondaryNav.secondaryName),e.secondaryNav&&Array.isArray(e.secondaryNav.secondaryNavList)&&(f.config.secondaryNav.secondaryNavList=e.secondaryNav.secondaryNavList),e.operation&&Array.isArray(e.operation.settingList)&&(f.config.operation.settingList=e.operation.settingList))}(e);var a=location,r=a.search,i=a.hash,o=d.getURLParameters(r||i),s=d.getCookie("szjzsaasDesktopServer"),l={test:"https://szjzsaas.ceshiservice.cn",production:"https://szjz.jyyun.com"};if(["test","production"].includes(o.szjzsaas)){if(l[o.szjzsaas])return document.cookie="szjzsaasDesktopServer=".concat(l[o.szjzsaas],"; SameSite=None; Secure"),void u.reloadNav(f.config,{},l[o.szjzsaas])}else if(s){var p=decodeURIComponent(s),g=p.includes(l.test)||p.includes(l.production),v=!location.href.includes("ecstest.ledc.changyan.cn/ebgnavigation/")&&(location.origin.includes("jyyun.com")||location.origin.includes("ecstest.ledc.changyan.cn"));if(p&&g&&!v){var m=p.includes(l.test)?"test":"production";return void(window.location.href=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"production";if(!e)return"";var n=new URL(e);return n.searchParams.set("szjzsaas",t),n.toString()}(location.href,m))}}o.ebgUrl&&(f.base.hosturl=o.ebgUrl),o.qt&&(window.qt=o.qt),f.base.navRenderCompleted=null,f.base.inited||(f.base.inited=!0),t&&"object"===(0,c.default)(t)&&Object.keys(t).length>0&&(f.base.navbarConfig=t);var y=document.getElementsByTagName("head")[0],b='<meta name="viewport" content="width=device-width, initial-scale=1"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">';-1===y.innerHTML.indexOf(b)&&y.insertAdjacentHTML("afterbegin",b),window.qt?(0,L.qtInit)(function(e){var t=u.getJsonpHostInScript(u.getCurrentScript().src);f.base.hosturl=t,D(function(){(0,L.renderCommonNav)()})}):f.base.hosturl?F(n):X(function(){F(n)})}},{key:"created",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};window.getNavbarConfigData?e(!1,window.getNavbarConfigData):window.ebgnavigation.on("getNavbarConfigData",function(t){e(!1,t)}),"failed"===window.loadNavigationError?e(!0):window.ebgnavigation.on("loadNavigationError",function(){e(!0)})}},{key:"mounted",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};"navRenderCompleted"===window.navRenderCompleted?e():window.ebgnavigation.on("navRenderCompleted",e)}},{key:"setHighlightNav",value:function(){throw new Error("此API已经废弃")}},{key:"setHighlight",value:function(e){var t,n,a=e.appNavList,r=e.secondaryNavList,i=f.config.primaryNav.appNavList,o=f.config.secondaryNav.secondaryNavList;if("object"===(0,c.default)(a))a&&(t=a.title||""),r&&(n=r.title||"");else if("number"==typeof Number(a)&&!isNaN(a)||"number"==typeof Number(r)&&!isNaN(r)){if(a&&a>=i.length)return;if(r&&r>=o.length)return;a>=0&&(t=i[a].title),r>=0&&(n=o[r].title)}t&&Z(i,t),n&&(Z(o,n),(0,N.renderSecondaryNav)())}},{key:"setAppName",value:function(e){if(!d.isObject(e)&&!d.isString(e))return!1;if(d.isString(e))f.config.primaryNav.appName=e,f.config.primaryNav.platformName=e;else if(d.isObject(e)){if(0===Object.keys(e).length)return!1;"application"===f.config.type?(d.isString(e.name)&&(f.config.primaryNav.appName=e.name),d.isString(e.logo)&&(f.config.primaryNav.appLogo=e.logo),d.isString(e.subtitle)&&(f.config.primaryNav.subtitle=e.subtitle)):(d.isString(e.name)&&(f.config.primaryNav.platformName=e.name),d.isString(e.logo)&&(f.config.primaryNav.appLogo=e.logo))}C(!0)}},{key:"setSubtitle",value:function(e){if("string"!=typeof e)return!1;f.config.primaryNav.subtitle=e,ee()}},{key:"setAppList",value:function(e,t){if(z(e,"setAppList")){var n;if(Array.isArray(f.config.primaryNav.appList)||(f.config.primaryNav.appList=[]),"concat"===t)(n=f.config.primaryNav.appList).push.apply(n,(0,i.default)(e));else f.config.primaryNav.appList=e;(0,d.$)("#ebgnav-ebgnavLogobox")&&ee()}}},{key:"setAppNavList",value:function(e,t){if(!z(e,"setAppNavList"))return!1;var n,a=[];(e.forEach(function(e){e.title&&a.push(e)}),"application"===f.config.type)?(Array.isArray(f.config.primaryNav.appNavList)||(f.config.primaryNav.appNavList=[]),"concat"===t?(n=f.config.primaryNav.appNavList).push.apply(n,a):f.config.primaryNav.appNavList=a):f.config.primaryNav.appNavList=a;document.querySelector("#ebgnav-primaryNavList")&&ee()}},{key:"setSecondaryName",value:function(e){f.config.secondaryNav.secondaryName=e,(0,d.$)("#ebgnav-secondaryName")&&(0,N.renderSecondaryName)()}},{key:"setSecondaryNavList",value:function(e,t){if(!z(e,"setSecondaryNavList"))return!1;var n;(Array.isArray(f.config.secondaryNav.secondaryNavList)||(f.config.secondaryNav.secondaryNavList=[]),"concat"===t)?(n=f.config.secondaryNav.secondaryNavList).push.apply(n,(0,i.default)(e)):f.config.secondaryNav.secondaryNavList=e;(0,d.$)(".ebgnav-secondary")[0]&&(0,N.renderSecondaryNav)()}},{key:"setSettingList",value:function(e,t){if(!z(e,"setSettingList"))return!1;var n;"application"===f.config.type&&f.config.operation&&(Array.isArray(f.config.operation.settingList)||(f.config.operation.settingList=[]),"concat"===t?(n=f.config.operation.settingList).push.apply(n,(0,i.default)(e)):f.config.operation.settingList=e);(0,N.renderSettingList)()}},{key:"hideNavBar",value:function(){var e=document.getElementById("ebgnav-box");e&&(e.style.display="none")}},{key:"showNavBar",value:function(){var e=document.getElementById("ebgnav-box");e&&(e.style.display="block")}},{key:"refreshAppList",value:function(){(0,N.renderAppList)()}},{key:"updateLogo",value:function(e){if(!e)throw new Error("更新logo, url不能为空");"application"===f.config.type?f.config.primaryNav.appLogo=e:f.config.primaryNav.platformLogo=e,ee()}},{key:"setFavicon",value:function(e){E(e)}},{key:"setAppListCurrentName",value:function(e){if(!e)throw new Error("参数不能为空");if("string"!=typeof e)throw new Error("参数必须是String类型");"application"===f.config.type&&1===f.config.primaryNav.appList.length&&((0,d.$)("#ebgnav-app-current-name").innerText=e,f.config.primaryNav.appList[0].title=e)}},{key:"switchTheme",value:function(e){e+="";var t=["1","2","3","4"],n=["themedark","default","themeblue","themegreen"];if(-1===[].concat(t,n).indexOf(e))return!1;if(-1!==n.indexOf(e)){e={themedark:"1",default:"2",themeblue:"3",themegreen:"4"}[e]}te.emit("switchTheme",e),U(e)}},{key:"config",get:function(){return f.config}}]),e}());window.ebgnavigation&&window.ebgnavigation.events&&(te.events=window.ebgnavigation.events),window.ebgnavigation=te;var ne=te;t.default=ne,e.exports=t.default},function(e,t,n){var a=n(8);e.exports=function(e){if(Array.isArray(e))return a(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var a=n(21);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var a=n(3).default,r=n(22);e.exports=function(e){var t=r(e,"string");return"symbol"==a(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var a=n(3).default;e.exports=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=i.call(n)).done)&&(s.push(a.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getJsonpHostInScript=t.getCurrentScript=t.reloadNav=t.getCookie=t.getJsonpHost=void 0;var r=a(n(2)),i=function(e){for(var t=document.cookie.split("; "),n=0;n<t.length;n++){var a=t[n].split("=");if(a[0]===e)return a[1]}return""};t.getCookie=i;var o=function(e){var t,n=e.match(/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/);return n&&n[1]?(t=n[1]+"://"+n[3],n[4]&&"80"!==n[4]&&(t=t+":"+n[4])):(t=window.location.protocol+"//"+window.location.host,window.location.port&&(t=t+":"+window.location.port)),t};t.getJsonpHostInScript=o;var s=function(){if(document.currentScript&&document.currentScript.src){var e=document.currentScript;if("interactive"===e.readyState)return e;if(e.src&&(-1!==e.src.indexOf("ebgnavigation.js")||-1!==e.src.indexOf("ebgnavigation.min.js"))&&0===e.src.indexOf("http"))return e}for(var t=document.getElementsByTagName("script"),n=t.length-1;n>=0;n--){var a=t[n];if("interactive"===a.readyState)return a;if(a.src&&(-1!==a.src.indexOf("ebgnavigation.js")||-1!==a.src.indexOf("ebgnavigation.min.js"))&&0===a.src.indexOf("http"))return a}return null};t.getCurrentScript=s;t.getJsonpHost=function e(t,n,a){var s="jsonpCallbackoperInCloud"+(new Date).getTime();window[s]=function(){};var l=i("ecsDesktopServer");if(""!==l)l=decodeURIComponent(l),a&&a(l);else{l=o(t);var c=(void 0===n||null==n||n.length<1?l:n)+"/desktop/backend/login/operInCloud.do";c&&(c=c.replace("http://","https://")),(0,r.default)({type:"GET",jsonp:s,url:c,data:{getDesktopServer:!0},success:function(n){var r=n.data,i="";null!=r&&null!=r.redirDomain&&(i=r.redirDomain),i.length>0?e(t,i,function(e){l=null!=e&&e.length>0?e:o(t),a&&a(l)}):a&&a(r)},error:function(e){a&&a("")}})}};t.reloadNav=function(e,t,n){var a="",r=s();if(r){a=r.src||"";var i=r.parentNode;i&&i.removeChild(r)}var o=document.createElement("script"),l=a&&-1!==a.indexOf("min")?"ebgnavigation.min.js":"ebgnavigation.js";o.src="".concat(n,"/ebgnavigation/").concat(l),document.body.insertAdjacentElement("afterbegin",o),o.onload=function(){return window.ebgnavigation.init(e,t),!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=void 0;t.debounce=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return function(){var a=this,r=arguments;clearTimeout(t),t=setTimeout(function(){e.apply(a,r)},n)}}},function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getAllAppsData=void 0;var r=a(n(2)),i=n(13),o=n(1),s=function(){var e=document.querySelector("#loader");e&&(e.className="loader-box hide")},l={},c=function(){var e=document.querySelector(".ebgnav__app_search-container");(0,o.handleClass)(e,"add","hide"),document.getElementById("search-input").value="",(0,o.handleClass)(document.querySelector(".result"),"add","hide"),document.body.style.overflow=""},d=function(e,t,n){if(l.classifies&&l.classifies.length){var a=e.value,r=[],i={},o=document.getElementById("serachText");if(document.getElementsByClassName("no-data")[0].className="no-data hide",!a)return u(l.classifies,t,n),void(document.getElementsByClassName("result")[0].className="result hide");for(var s in a&&(o.innerText=a,document.getElementsByClassName("result")[0].className="result"),l.classifies.forEach(function(e){i[e.id]={kind:e.kind,id:e.id,items:[]},e.items&&e.items.forEach(function(t){-1!==t.name.indexOf(a)&&i[e.id].items.push({appTerminalStr:t.appTerminalStr,fav:t.fav,id:t.id,name:t.name,url:t.url})})}),i)i[s].items.length&&r.push(i[s]);u(r,t,n),r.length||(document.getElementsByClassName("no-data")[0].className="no-data")}},u=function(e,t,n){var a=document.getElementById("app-list");a&&e?a.innerHTML=(0,o.templateRender)((0,o.templateFilter)('\n<% for(var i = 0; i < this.length; i++) { \n  var item = this[i];\n%>\n<li class="app-list-column">\n  <dl class="column-box">\n    <dt class="title"><% item.kind %></dt>\n    <% for(var j = 0; j < item.items.length; j++) {\n      var sub = item.items[j];\n    %>\n    <dd class="item-list text-ellipsis" url="<% sub.url %>" title="<% sub.name %>" id="<% sub.id %>">\n      <span><% sub.name %></span>\n    </dd>\n    <%\n    }\n    %>\n  </dl>\n</li> \n<%\n}\n%>'),e):document.querySelector(".no-data").className="no-data";s(),function(e,t){document.querySelector("#close__search__box").addEventListener("click",c);var n=document.getElementById("searchBtn"),a=document.getElementById("search-input");n.onclick=d.bind(void 0,a,e,t);for(var r=document.getElementsByClassName("item-list"),o=r.length,s=function(n){var a=r[n];a.addEventListener("click",function(){var n=a.getAttribute("title"),r=a.getAttribute("id"),o=a.getAttribute("url");(0,i.appClick)({name:n,id:r,url:o,item:a,target:"_blank",hosturl:t,apiUrl:e})})},l=0;l<o;l++)s(l)}(t,n)};t.getAllAppsData=function(e,t){var n,a=t.hosturl;document.querySelector(".ebgnav__app_search-container")||(document.body.insertAdjacentHTML("afterbegin",'<div class="ebgnav__app_search-container hide">\n              <div id="data" style="display:none"></div>\n              <span class="close__search__box" id="close__search__box"></span>\n              <div class="search-input-box">\n                <input id="search-input" class="form-input" type="text" placeholder="查找应用" />\n                <button id="searchBtn" class="form-search-btn">搜索</button>\n              </div>\n              <div class="ebgnav__app_search-box">\n                <div class="serach-app-sub-con">\n                  <div class="result hide">以下是“<strong id="serachText"></strong>”相关的应用</div>\n                  <ul id="app-list" class="app-list platform-app-list clearfix">\n                    \n                  </ul>\n                  <div id="loader" class="loader-box show"><div class="loader"></div><p>数据加载中…</p></div>\n                  <div class="no-data hide">\n                    <p>暂无搜索数据</p>\n                  </div>\n                </div>\n              </div>\n             </div>\n            '),function(e,t){var n=document.getElementById("search-input");document.onkeydown=function(a){var r=a||window.event;r&&13===r.keyCode&&d(n,e,t)}}(e,a)),(n=document.querySelector("#loader"))&&(n.className="loader-box show");var i=e.menus+"?t="+(new Date).getTime();(0,r.default)({url:a+i,jsonp:"jsonp",data:{isSaas:!0},success:function(t){l=t.apps&&t.apps[0]||[],function(e,t){(0,o.handleClass)(document.querySelector(".ebgnav__app_search-container"),"delete","hide"),u(l.classifies,e,t),document.body.style.overflow="hidden"}(e,a)},error:function(e){s()}})}},function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.bindLogout=void 0;var r=a(n(2)),i=function(e,t){(0,r.default)({url:e,type:"GET",dataType:"jsonp",jsonp:"callback",crossDomain:!0,cache:!1,success:function(e){"function"==typeof t&&t()},error:function(e){"function"==typeof t&&t()}})};t.bindLogout=function(e){!function(e){for(var t=e.split(";"),n=0;n<t.length;n++)t[n]=t[n].replace("http://","https://");var a=t.shift(),r=t.pop();i(a,function(){t.forEach(function(e){i(e)}),window.ebgnavigation.emit("logout"),setTimeout(function(){window.location.href=r},1e3)})}(e)}},function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.renderUserSetting=void 0;var r,i=a(n(4)),o=a(n(2)),s=n(1),l=[],c="",d={},u={},p={},f=[],g={},v=0,m=function(){var e="";return l.forEach(function(t){var n;e+='<dd class="setting-list-item">\n      <a href="'.concat((n=t.url,-1===n.indexOf("http")&&("/"!==n.substring(0,1)&&(n="/".concat(n)),n=c+n),n),'" target="_blank" id="setting-list-id-').concat(t.key,'">\n        <i class="ebginav ').concat(t.key,'"></i>\n        <span class="name">').concat(t.name,'</span>\n        <i class="ebginav inav-user-right"></i>\n      </a>\n    </dd>')}),e},y=function(){var e="";return u.roleList.some(function(t){return e=t,t.roleTag===u.currentRole}),e},b=function(){return'<dd class="setting-list-item" id="setting-role-entry">\n    <a href="javascript:;">\n      <i class="ebginav inav-switch-identity"></i>\n      <span class="name">身份切换</span>\n      <i class="ebginav inav-user-right"></i>\n      <span class="setting-right-con role-current-name text-ellipsis" title="'.concat(p.roleCName,'">').concat(p.roleCName,'</span>\n    </a>\n    <dl class="setting-identity-list dropdown-box" id="ebgnav-ebgnavRoleList">\n      ').concat(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(e){return'<dd class="'.concat(e.roleTag===u.currentRole?"role-list-item active":"role-list-item",'">').concat(e.roleCName,'<span class="data" style="display: none">').concat(JSON.stringify(e),"</span></dd>")}).join("")}(u.roleList),"\n    </dl>\n  </dd>")},h=function(){var e=document.getElementById("setting-role-entry"),t=document.getElementById("ebgnav-ebgnavRoleList"),n=document.querySelector(".ebgnav-operation-userinfo");e&&e.addEventListener("mouseenter",function(){t&&!t.classList.contains("show")&&t.classList.add("show")}),n&&n.addEventListener("mouseleave",function(){t&&t.classList.contains("show")&&t.classList.remove("show")}),t&&t.addEventListener("click",function(e){if("DL"===e.target.tagName)return!1;var t=e.target.querySelector(".data").innerText;!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e||e.roleTag===u.currentRole)return i.default.message("该角色为您当前登录角色，请选择其他角色切换！","error"),!1;var t={role:e.role};e.childId&&(t.childId=e.childId),w(t,e)}(JSON.parse(t||"{}")||{})})};t.renderUserSetting=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n.test)return!1;r=document.getElementById("user-setting-list"),u=e.roleInfo||{},f=e.menus||[],g=e.user,d=n,l=e.settings.filter(function(e){return"user-logout"!==e.key}),c=t.hosturl;var a="";!d.hideRole&&u.currentRole&&u.roleList&&u.roleList.length>0&&(p=y(),a=b(),A()),r.innerHTML="",r.insertAdjacentHTML("beforeend","".concat(a).concat(m())),h(),x()};var N=function(e){u.currentRole=e.roleTag,window.ebgnavigation.emit("roleChange",e),(0,s.setCookie)("role".concat(g.id),u.currentRole),window.ebgnavigation.init(d,null,"switchRole")},A=function(){var e=(0,s.getCookie)("role".concat(g.id));if(e){if(e!==u.currentRole){var t=y()||{};t.first=!0,N(t)}}else(0,s.setCookie)("role".concat(g.id),u.currentRole)},w=function(e,t){(0,o.default)({type:"GET",jsonp:"jsonpCallback4",url:c+"/desktop/backend/api/portal/switchRole",data:e,success:function(e){1===Number(e.code)?(t.first&&(t.first=!1),t.teacherRoleId=e.data,t.workbenchUrl=(0,s.getWorkbenchUrl)(f),sessionStorage.setItem("teacherRoleId",e.data),localStorage.setItem("teacherRoleId",e.data),i.default.message("角色切换成功","success"),N(t)):i.default.message("角色切换失败","error")},error:function(){i.default.message("角色切换失败","error")}})},L=function(e){var t=document.getElementById("setting-list-id-inav-message"),n=document.querySelector("#ebgnav-hasNewMsg");if(n&&(0,s.handleClass)(n,"add","red-dot"),t){var a=document.querySelector(".ebginav-message");if(a)a.innerText=e;else{var r='<span class="setting-right-con ebginav-message">'.concat(e,"</span>");t.insertAdjacentHTML("afterbegin",r)}}},x=function(){v?L(v):(0,o.default)({type:"GET",jsonp:"jsonpCallback".concat(Date.now()),url:c+"/desktop/backend/navigation/getMessageUnreadNum",data:{messagesTypes:"1,2,3",roleType:u.currentRole},success:function(e){!function(e){if(Array.isArray(e)){var t=0;e.forEach(function(e){t+=e.unreadNum}),(v=t)&&L(v)}}(e)},error:function(e){}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderEbgNav=void 0;var a,r,i,o,s=n(1),l=n(12);t.renderEbgNav=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return!1;i=t;var a=f("#ebgnav-ebgnavLogobox");if(e.innerHTML="",o=document.body.clientWidth||document.documentElement.clientWidth,"ebgnav-primaryNavList"===n.element)r=o-a-280;else{var l=0;n.secondaryName&&(l=200),r=o-l}var p=u(i);if(!1!==p)d(e,i,p,n);else{var g=c(i,n);e.insertAdjacentHTML("afterbegin",g),(0,s.traverseDomArr)(e)}};var c=function(e,t){return(0,s.renderNavbarDom)(e,t)},d=function(e,t,n,a){if(!e)return!1;e.insertAdjacentHTML("afterbegin",c(t.slice(0,n),a)),e.insertAdjacentHTML("beforeend",(0,s.templateFilter)(l.getNavMoreTemplate));var r=e.querySelector(".more-children");a.more=!0,r.insertAdjacentHTML("beforeend",c(t.slice(n),a)),(0,s.traverseDomArr)(e)},u=function(e){for(var t=100,n=0;n<e.length;n++)if(t+=p(e[n].title)+48,r<=t)return n;return!1},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'14px/1.6 "Microsoft Yahei"',n=(a=a||document.createElement("canvas")).getContext("2d");return n.font=t,n.measureText(e).width};function f(e){var t=document.querySelector(e),n=t?t.offsetWidth:200;return n>555?555:n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderDropdown=void 0;var a=n(1);t.renderDropdown=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments[2];e.innerHTML="",e.insertAdjacentHTML("beforeend",(0,a.renderNavbarDom)(t,n)),(0,a.traverseDomArr)(e)}},function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(2)),i=n(1),o=n(6),s=function(e,t){var n=document.querySelector(".guidance-container");n&&(0,i.removeElement)(n);var a=document.querySelector(".ebgnav-operation-appentry"),r=document.querySelector(".ebgnav-operation-userinfo");if(!a||!r)return!1;var s='\n  <div class="guidance-container">\n    <div class="step-guidance step1" style="right: '.concat(r.offsetWidth+24,'px; top: 0; display:block;">\n      <div class="box">\n        <img class="img-gif" src="/ebgnavigation/img/guidance-step-1.gif" />\n        <div class="discription">\n          <h3>快捷应用入口与搜索入口</h3>\n          <p>点击应用快捷入口，可以查看管理员设置的常用应用，原来导航栏上的应用入口与搜索入口迁移至此处！</p>\n        </div>\n        <div>\n          <a class="ebg-button ebg-button--small ebg-button--text" href="javascript:" id="guidance-jump">跳过</a>\n          <button class="ebg-button ebg-button--line ebg-button--small guidance-btn fr">下一步</button>\n        </div>\n      </div>\n      <div class="guidance-arrow" style="width: 40px"><i class="ebginav inav-app-entry"></i></div>\n    </div>\n    <div class="step-guidance step2" style="right: 24px; top: 0; display:none;">\n      <div class="box">\n        <img class="img-gif" src="/ebgnavigation/img/guidance-step-2.gif" />\n        <div class="discription">\n          <h3>我的消息迁移至此处啦~</h3>\n        </div>\n        <div class="btn-box">\n          <button class="ebg-button ebg-button--line ebg-button--small guidance-btn fr">知道了</button>\n        </div>\n      </div>\n      <div class="guidance-arrow">\n        <img class="avatar" src="').concat(e.userPhotos||o.avatar,'" />\n        <span class="name text-ellipsis">').concat(e.name,"</span>\n      </div>\n    </div>\n  </div>\n  "),c=document.querySelector(".guidance-container");c&&(0,i.removeElement)(c),document.body.insertAdjacentHTML("beforeend",s),document.body.style.overflow="hidden",l(e,t)},l=function(e,t){for(var n=document.querySelector(".guidance-container").querySelectorAll("button"),a=0;a<n.length;a++){n[a].addEventListener("click",function(n){"下一步"===n.target.innerText?(document.querySelector(".step1").style.display="none",document.querySelector(".step2").style.display="block"):c(e,t)})}var r=document.querySelector("#guidance-jump");r&&r.addEventListener("click",function(){c(e,t)})},c=function(e,t){var n=document.querySelector(".guidance-container");(0,r.default)({type:"GET",jsonp:"callback",url:"".concat(t,"/desktop/backend/indexPage/insertNavigationLog.do"),success:function(t){localStorage.setItem("isGuidance-".concat(e.id),"true"),(0,i.removeElement)(n),document.body.style.overflow=""},error:function(){(0,i.removeElement)(n),document.body.style.overflow=""}})},d=function(e,t){if(e&&e.id&&"true"===localStorage.getItem("isGuidance-".concat(e.id)))return!1;(0,r.default)({type:"GET",jsonp:"jsonpCallback".concat(Date.now()),url:"".concat(t,"/desktop/backend/indexPage/getHasNavigationLog.do"),success:function(n){n.success||s(e,t)},error:function(){}})};t.default=d,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderCommonNav=t.isQtNavEmpty=t.qtInit=void 0;var a=n(5),r=n(1),i=n(14),o=0;t.qtInit=function(e){if("dev"===window.qt)return e(),!1;s(function(t){var n={identityList:[],identityInfo:[],roleInfo:{roleList:[]},childUserId:t.childUserId,user:{childUserId:t.childUserId,tarUserType:t.userRole,id:t.userId,name:t.userName}};for(var a in t)n.user[a]=t[a];window.getNavbarConfigData=n,window.ebgnavigation.emit("getNavbarConfigData",n),e(n)})};var s=function(e){l(function(t){if(t)return e({}),!1;window.FlyQtNavigator.getUserInfos(function(t){var n=JSON.parse(t);e(n)})})},l=function e(t){if(window.FlyQtNavigator)t();else if(o<5)setTimeout(function(){o++,e(t)},200);else{(0,r.loadScript)("https://public.res.lezhiyun.com/xiaoxin/download/xiaoxin/qwebchannel.js",function(){if(window.FlyQtNavigator)t();else try{new window.QWebChannel(window.qt.webChannelTransport,function(e){window._XBridgeQtChannelInstance=e.objects,window.FlyQtNavigator=e.objects.FlyQtNavigator,t()})}catch(e){t(e)}})}},c=function(){if(window.qt){var e=a.config.primaryNav,t=a.config.secondaryNav,n=a.config.operation,i=[e.appNavList,e.appList,n.settingList,t.secondaryNavList].every(function(e){return!e.length}),o=document.querySelector("#ebgnav-box");i?(0,r.handleClass)(o,"add","hide"):(0,r.handleClass)(o,"delete","hide")}};t.isQtNavEmpty=c;t.renderCommonNav=function(){(0,r.handleClass)(document.querySelector("#ebgnav-box"),"add","default"),(0,r.handleClass)(document.querySelector(".ebgnav-operation-userinfo"),"add","hide"),(0,i.renderPrimaryNav)(),(0,i.renderSecondaryNav)(),(0,i.renderSettingList)(),(0,i.renderAppList)(),(0,i.renderSecondaryName)(),c()}},function(e,t,n){}])});